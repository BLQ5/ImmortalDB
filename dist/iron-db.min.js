var IronDB=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.0
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(s){if(void 0===(o="function"==typeof(n=s)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=s(),!!0){var i=window.Cookies,c=window.Cookies=s();c.noConflict=function(){return window.Cookies=i,c}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}return function t(r){function n(t,o,s){var i;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(s=e({path:"/"},n.defaults,s)).expires){var c=new Date;c.setMilliseconds(c.getMilliseconds()+864e5*s.expires),s.expires=c}s.expires=s.expires?s.expires.toUTCString():"";try{i=JSON.stringify(o),/^[\{\[]/.test(i)&&(o=i)}catch(e){}o=r.write?r.write(o,t):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var a="";for(var u in s)s[u]&&(a+="; "+u,!0!==s[u]&&(a+="="+s[u]));return document.cookie=t+"="+o+a}t||(i={});for(var l=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,d=0;d<l.length;d++){var p=l[d].split("="),h=p.slice(1).join("=");this.json||'"'!==h.charAt(0)||(h=h.slice(1,-1));try{var y=p[0].replace(f,decodeURIComponent);if(h=r.read?r.read(h,y):r(h,y)||h.replace(f,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(e){}if(t===y){i=h;break}t||(i[y]=h)}catch(e){}}return i}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}(function(){})})},function(e,t,r){"use strict";r.r(t);var n=r(0),o=r.n(n);const s=365;class i{constructor(e=s){this.ttl=e}async get(e){const t=o.a.get(e);return"string"==typeof t?t:void 0}async set(e,t){o.a.set(e,t,{expires:this.ttl})}async remove(e){o.a.remove(e,{expires:this.ttl})}}class c{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise((r,n)=>{const o=indexedDB.open(e,1);o.onerror=(()=>n(o.error)),o.onsuccess=(()=>r(o.result)),o.onupgradeneeded=(()=>{o.result.createObjectStore(t)})})}_withIDBStore(e,t){return this._dbp.then(r=>new Promise((n,o)=>{const s=r.transaction(this.storeName,e);s.oncomplete=(()=>n()),s.onabort=s.onerror=(()=>o(s.error)),t(s.objectStore(this.storeName))}))}}let a;function u(){return a||(a=new c),a}const l="IronDB",f="key-value-pairs";class d{constructor(e=l,t=f){this.store=new c(e,t)}async get(e){const t=await function(e,t=u()){let r;return t._withIDBStore("readonly",t=>{r=t.get(e)}).then(()=>r.result)}(e,this.store);return"string"==typeof t?t:void 0}async set(e,t){await function(e,t,r=u()){return r._withIDBStore("readwrite",r=>{r.put(t,e)})}(e,t,this.store)}async remove(e){await function(e,t=u()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}(e,this.store)}}class p{constructor(e){this.store=e}async get(e){const t=this.store.getItem(e);return"string"==typeof t?t:void 0}async set(e,t){this.store.setItem(e,t)}async remove(e){this.store.removeItem(e)}}class h extends p{constructor(){super(window.localStorage)}}class y extends p{constructor(){super(window.sessionStorage)}}r.d(t,"IronDB",function(){return x}),r.d(t,"IronStorage",function(){return b}),r.d(t,"DEFAULT_STORES",function(){return g}),r.d(t,"DEFAULT_KEY_PREFIX",function(){return v}),r.d(t,"CookieStore",function(){return i}),r.d(t,"IndexedDbStore",function(){return d}),r.d(t,"LocalStorageStore",function(){return h}),r.d(t,"SessionStorageStore",function(){return y});const w=[i];window.indexedDB&&w.push(d),window.localStorage&&w.push(h),window.sessionStorage&&w.push(y);const m=console.log,v="_iron|",g=w.map(e=>new e);function S(e,t,r=null){return t in e?e[t]:r}class b{constructor(e=g){this.stores=e.filter(Boolean)}async get(e,t=null){const r=`${v}${e}`,n=await Promise.all(this.stores.map(async e=>{try{return await e.get(r)}catch(e){m(e)}})),o=Array.from(function(e){const t=new Map;let r=e.slice();for(const e of r){let n=0;for(const t of r)e===t&&(n+=1);n>0&&(t.set(e,n),r=r.filter(t=>t!==e))}return t}(n).entries());let s;o.sort((e,t)=>e[1]<=t[1]);const[i,c]=S(o,0,[void 0,0]),[a,u]=S(o,1,[void 0,0]);return void 0!==(s=c>u||c==u&&void 0!==i?i:a)?(await this.set(e,s),s):(await this.remove(e),t)}async set(e,t){return e=`${v}${e}`,await Promise.all(this.stores.map(async r=>{try{await r.set(e,t)}catch(e){m(e)}})),t}async remove(e){e=`${v}${e}`,await Promise.all(this.stores.map(async t=>{try{await t.remove(e)}catch(e){m(e)}}))}}const x=new b}]);